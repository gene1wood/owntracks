<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>iOS - OwnTracks Booklet</title>
  

  <link rel="shortcut icon" href="../../favicon.ico">
  

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="../../css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="../../css/highlight.css">
  <link href="../../css/custom.css" rel="stylesheet">

  <script src="../../js/jquery-2.1.1.min.js"></script>
  <script src="../../js/modernizr-2.8.3.min.js"></script>
  <script type="text/javascript" src="../../js/highlight.pack.js"></script>
  <script src="../../js/theme.js"></script> 

  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <a href="../.." class="icon icon-home"> OwnTracks Booklet</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        <ul class="current">
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../..">Intro</a>
        
    </li>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>Guide</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../guide/whathow/">What it does</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../guide/clients/">Clients</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../guide/scenarios/">Scenarios</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../guide/apps/">Apps</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../guide/topics/">Topics</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../guide/broker/">Broker</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../guide/bridge/">Bridging</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../guide/waypoints/">Waypoints</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../guide/beacons/">Beacons</a>
        
    </li>

        
    </ul>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>Features</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../comparison/">Comparison</a>
        
    </li>

        
            
    <li class="toctree-l1 current">
        <a class="current" href="./">iOS</a>
        
            <ul>
            
                <li class="toctree-l3"><a href="#startup">Startup</a></li>
                
            
                <li class="toctree-l3"><a href="#settings">Settings</a></li>
                
            
                <li class="toctree-l3"><a href="#friends">Friends</a></li>
                
                    <li><a class="toctree-l4" href="#location-indicators-and-friendly-faces">Location indicators and friendly faces</a></li>
                
                    <li><a class="toctree-l4" href="#region-monitoring-and-waypoints">Region Monitoring and Waypoints</a></li>
                
                    <li><a class="toctree-l4" href="#region-monitoring-aka-geo-fences">Region monitoring (a.k.a. Geo Fences)</a></li>
                
                    <li><a class="toctree-l4" href="#region-monitoring-with-ibeacons">Region Monitoring with iBeacons</a></li>
                
                    <li><a class="toctree-l4" href="#region-monitoring-with-follow">Region Monitoring with +follow</a></li>
                
                    <li><a class="toctree-l4" href="#remote-configuration">Remote configuration</a></li>
                
                    <li><a class="toctree-l4" href="#why-do-location-publishes-sometimes-seem-to-cease-to-work">Why do location publishes sometimes seem to cease to work?</a></li>
                
            
            </ul>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../android/">Android</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../security/">Security</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../tls/">TLS</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../tlscert/">TLS client</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../location/">Location</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../tid/">Tracker ID</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../friends/">Friends</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../card/">Card</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../waypoints/">Waypoints</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../beacons/">Beacons</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../pedometer/">Pedometer</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../featured/">Featured</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../encrypt/">Encryption</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../remoteconfig/">Remoteconfig</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../debug/">Debugging</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../traccar/">Traccar</a>
        
    </li>

        
    </ul>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>API</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../tech/json/">JSON</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../tech/http/">HTTP</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../tech/mqtt/">MQTT</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../tech/qr/">QR</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../tech/program/">Code</a>
        
    </li>

        
    </ul>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>Sundry</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../terminology/">Terminology</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../clients/recorder/">Docker</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../privacy/">Privacy</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../people/">People</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../ideas/">Ideas</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../faq/">Answers</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../press/">Press</a>
        
    </li>

        
    </ul>
<li>
          
        </ul>
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../..">OwnTracks Booklet</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../..">Docs</a> &raquo;</li>
    
      
        
          <li>Features &raquo;</li>
        
      
    
    <li>iOS</li>
    <li class="wy-breadcrumbs-aside">
      
        
          <a href="https://github.com/owntracks" class="icon icon-github"> Edit on GitHub</a>
        
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <h2 id="startup">Startup</h2>
<p>After <a href="https://itunes.apple.com/en/app/mqttitude/id692424691?mt=8">downloading and installing the iPhone/iPad app</a>, start it
up.</p>
<p>The first time you start the app, the system asks you to give OwnTracks access to your location which it requires in order to, well, find your location.</p>
<h2 id="settings">Settings</h2>
<p>Access settings and the individual modes by pressing on the <code>I</code> on the top left.</p>
<h2 id="friends">Friends</h2>
<p>The Friends feature shows self and all Friends published by the server,
their picture or OwnTracks default icon, and their last location.  Tapping on
the entry switches back to map centered on friend's last location.</p>
<p>The first time you launch the app you'll also be asked whether it may access your
contacts data, which you should allow. (If you change your mind later, <em>Privacy</em> in
<em>General settings</em> allows you to disable the feature.)</p>
<p>Tapping on an location entry centers the map on the selected location.</p>
<p>No geo-coding is done automatically in the background to limit mobile data usage.</p>
<h3 id="location-indicators-and-friendly-faces">Location indicators and friendly faces</h3>
<p>The locations of yourself, your friends and of the waypoints you set are displayed on the map. The inner area of the circle either shows a picture of yourself / your friend or the Tracker ID (tid) which is usually 2 characters and defaults to the last two characters of the publish topic.</p>
<p>A red, yellow rimmed tachometer indicating the velocity (speed) at the reported location starts at at the 6 o'clock position and works clockwise. It uses a logarithmic scale to show slow speeds
as good as high speeds. The 9 o'clock position indicates a speed of 30 km/h, the 12 o'clock posistion a speed of 100 km/h. 3 o'clock means 180 km/h.</p>
<p>A small blue, yellow rimmed semicircle at the perimeter indicates the course over ground (direction of movement)  with the 12 o'clock position meaning North.</p>
<p>If your iOS addressbook has an entry for, say, Jane Jolie, and Jane has an image associated with her addressbook entry, OwnTracks will show Jane's image on the map and on the <a href="../friends/">Friends</a> list, as soon as a location update for Jane is seen by the app.</p>
<h3 id="region-monitoring-and-waypoints">Region Monitoring and Waypoints</h3>
<p>For all manually published locations, a description, a region radius and a share flag can be edited.</p>
<p>Setting the description of a location helps you to remember places.</p>
<p>If a description is entered and the share flag set, the location is published to the MQTT broker as a <code>waypoint</code> once.</p>
<p>If the description is non-empty and a radius &gt; 0 (meters) is set, the app starts monitoring the circular region around the coordinate. A region may be 'waypoint'.
The regions are shown on the map as blue-ish circles. If the device is within a region, the corresponding circle turns red-ish.</p>
<p>If the description is non-empty and includes a value UUID for an iBeacon, the app starts monitoring the iBeacon region. e.g. 'myBeacons:CA271EAE-5FA8-4E80-8F08-2A302A95A959'
monitors any iBeacon identified with UUID = CA..., with major and minor numbers irrelevant.</p>
<p>Everytime the devices enters or leaves a monitored region, an additional location message is published to the MQTT broker.</p>
<p>Use cases:
* Define a <code>home</code> region to insure that the device publishes a new location when coming home or leaving home even if you do not move more than 500m.
* Share your favorite places with your friends ("Best Sushi in Town").
* Keep a private note ("Parked Car here").
* Use iBeacons to accurately report enter/leave events for your home
* Use iBeacons to publish enter/leave events for individual rooms/floors in your home</p>
<p>See also <a href="../waypoints/">Waypoints</a>.</p>
<h3 id="region-monitoring-aka-geo-fences">Region monitoring (a.k.a. Geo Fences)</h3>
<p>If the waypoint description is non-empty and a radius &gt; 0 (meters) is set, the
app starts monitoring the circular region around the specified coordinates. 
Regions are shown on the map as blue-ish circles. If the
device is within a region, the corresponding circle turns red-ish. Every time
the devices enters or leaves a monitored region, an additional location message
is published to the MQTT broker, specifying whether the device is entering or leaving
said region.</p>
<p>For example, you can define a home region to ensure that the device publishes a
new location when coming home or leaving home even if you do not move more than
500m. Share your favorite places with your friends ("Best Sushi in Town"). Keep
a private note ("Parked Car here").</p>
<h3 id="region-monitoring-with-ibeacons">Region Monitoring with iBeacons</h3>
<p>Rather than setting the radius, you may add your iBeacon's UUID and optionally major and minor numbers
to the description to start region monitoring using iBeacons.</p>
<p>e.g.
* 'myBeacon:CA271EAE-5FA8-4E80-8F08-2A302A95A959:0001:CAFE'
reports region with description 'myBeacon' when the iBeacon identified with UUID = CA..., major = 0001 and minor = CAFE is in proximity</p>
<ul>
<li>'myBeacons:CA271EAE-5FA8-4E80-8F08-2A302A95A959'
reports region with description 'myBeacons' when any iBeacon identified with UUID = CA..., with major and minor numbers irrelevant is in proximity</li>
</ul>
<h3 id="region-monitoring-with-follow">Region Monitoring with <code>+follow</code></h3>
<p>Create a region with a name begining with a <code>+</code> character, e.g. <code>+follow</code> and set an initial radius to be greater than zero. From this moment onwards, <em>lat</em> and <em>lon</em> will be set dynamically at each location publish and <em>radius</em> will be the distance you've covered in 30 seconds, at least 50 meters.</p>
<p>This <em>follow</em>-type region will not trigger <code>enter/leave</code> events or notifications, and location publishes will have a type setting of <code>"t" : "C"</code>.</p>
<h3 id="remote-configuration">Remote configuration</h3>
<p>You can help your friends customize their copy of OwnTracks with <a href="../remoteconfig/">remote configuration</a>.</p>
<h3 id="why-do-location-publishes-sometimes-seem-to-cease-to-work">Why do location publishes sometimes seem to cease to work?</h3>
<p>Here's what happens:</p>
<p>If the app goes into Background, the connection is disconnected because the app
cannot maintain the TCP connection in background.</p>
<p>If you bring the app back into foreground, the app will re-connect.</p>
<p>When a location change is recorded (no matter if manual, significant, move or
region mode), a message is prepared and an attempt to connect to the broker is
started. If there is an error, connect will be retried after 2, 4, 8, ..., 64,
64, .... seconds until it succeeds.</p>
<p>BUT...</p>
<p>If the application is in background or is sent to the background, retries are
restarted eventually - depending on iOS' background execution model about every 10 minutes.</p>
<p>With automatic modes switched off, even when bringing the app to foreground, no
new location updates are generated.</p>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../android/" class="btn btn-neutral float-right" title="Android"/>Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../comparison/" class="btn btn-neutral" title="Comparison"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
    <!-- Copyright etc -->
    </p>
  </div>

  Built with <a href="http://www.mkdocs.org">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
	  
        </div>
      </div>

    </section>

  </div>

<div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
          <a class="icon icon-github" style="float: left; color: #fcfcfc"> GitHub</a>
      
      
        <span><a href="../comparison/" style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="../android/" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>

</body>
</html>
