<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="author" content="OwnTracks.org" /><link rel="canonical" href="http://owntracks.org/guide/scenarios/" />
      <link rel="shortcut icon" href="../../img/favicon.ico" />
    <title>Scenarios - OwnTracks Booklet</title>

  <link rel="stylesheet" href="../../css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../css/theme_extra.css" type="text/css" />
  <link href="../../extra.css" rel="stylesheet">
    
      <script>
        // Current page data
        var mkdocs_page_name = "Scenarios";
        var mkdocs_page_input_path = "guide/scenarios.md";
        var mkdocs_page_url = "/guide/scenarios/";
      </script>
    
    <!--[if lt IE 9]>
      <script src="../../js/html5shiv.min.js"></script>
    <![endif]--> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="../.." class="icon icon-home"> OwnTracks Booklet
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../..">Intro</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">Guide</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../whathow/">What it does</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../quicksetup/">Quicksetup</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../apps/">Apps</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Features</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../features/comparison/">Comparison</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../features/security/">Security</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../features/location/">Location</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">API</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../tech/json/">JSON</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../tech/http/">HTTP</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../tech/program/">Code</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Sundry</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../privacy/">Privacy</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../people/">People</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../faq/">Answers</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../press/">Press</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../..">OwnTracks Booklet</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../.." class="icon icon-home" aria-label="Docs"></a></li>
      <li class="breadcrumb-item active">Scenarios</li>
    <li class="wy-breadcrumbs-aside">
          <a href="https://github.com/owntracks/booklet/edit/master/docs/guide/scenarios.md" class="icon icon-github"> Edit on GitHub</a>
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h2 id="scenarios">Scenarios<a class="headerlink" href="#scenarios" title="Permanent link">#</a></h2>
<p>There are two basic scenarios we have for you depending on your needs. It'll help if you keep a copy of the <a href="../../terminology/">technical terminology</a> handy.</p>
<p>There is a bit of stuff you have to learn about in order to use OwnTracks: <a href="../broker/">MQTT brokers</a>, <a href="../topics/">topics</a>, but the upside is that you get to use many of the neat features <em>MQTT</em> mode or <em>HTTP</em> mode come with. For example, you can set up <a href="../../features/friends/">friends</a>.</p>
<h2 id="http-mode">HTTP mode<a class="headerlink" href="#http-mode" title="Permanent link">#</a></h2>
<p>If you don't want to go to the trouble of hosting your own MQTT setup, you can use <em>HTTP</em> mode to publish location data to a <a href="../../tech/http/">HTTP server of your chosing</a>, and you can also use our Recorder for doing so.</p>
<h2 id="mqtt-mode">MQTT mode<a class="headerlink" href="#mqtt-mode" title="Permanent link">#</a></h2>
<p>In MQTT mode you <a href="../broker/">set up and configure your MQTT broker</a>, you configure authentication, and then you configure your OwnTracks apps to connect to your broker. It's not particularly difficult to do, and you have full control over everything you set up. We've said it before: <a href="../quicksetup/">using quicksetup</a> is likely the easiest way to accomplish this.</p>
<p>What you basically have to do is to</p>
<ul>
<li><a href="../broker/">set up an MQTT broker</a></li>
<li>Optionally <a href="../clients/">use existing clients</a> to consume OwnTracks data</li>
<li>Possibly dig in and <a href="../../tech/program/">write your own client</a> and do really cool stuff!</li>
</ul>
<p>We urge you to resist the temptation of using <em>MQTT mode</em> with one of the many public brokers hosted by different organizations. While it <em>is</em> an easy way out those brokers are publically accessible which means anybody can see where you are if they can identify you. Furthermore, public brokers often don't implement access control, so basically anybody can create a "location" update which looks as though it may be yours. Believe us: it'll drive you crazy.</p>
<p>You will now want to <a href="../clients/">configure a client</a> with which you consume the data which is published by OwnTracks, or if you're feeling very brave, why not <a href="../../tech/program/">write your own client</a>?</p>
<h2 id="mqtt-vs-http">MQTT vs. HTTP<a class="headerlink" href="#mqtt-vs-http" title="Permanent link">#</a></h2>
<p>Which should it be? We invented OwnTracks backed by MQTT so we have preference for that, and using MQTT with, say, our Recorder is easier than with HTTP.</p>
<ul>
<li>
<p>implementing support for Friends is easier with MQTT as the apps do this themselves. In HTTP mode, the backend (Recorder) needs to know about Friends and send the information back to the apps. The software has support for this, but configuration is tedious.</p>
</li>
<li>
<p>MQTT connections are more lightweight than HTTP, or rather the overhead is lower.</p>
</li>
<li>
<p>for both MQTT and HTTP, connections are re-established when required.</p>
</li>
</ul>
<h3 id="on-ios">on iOS<a class="headerlink" href="#on-ios" title="Permanent link">#</a></h3>
<p>In the iOS client there is no functional difference between MQTT and HTTP.  The main difference is the backend. MQTT brokers queue messages from devices to other devices (<em>transition events</em> especially). In iOS, the track of friends is recorded, which obviously only makes sense if locations sent by other devices are queued by the backend.</p>
<p>HTTP works with friends only if the backend takes responsibility to retrieve friend's positions when a new location arrives. (Our recorder does, <em>Home Assistant</em> seems to do it partially, and what other systems do we likely don't know.)</p>
<p>Re-transmission of off-line locations from an MQTT client is much more efficient and is faster than with HTTP.</p>
<p>In iOS MQTT connections are deliberately shut down when the app goes into background.  On the other hand there is no permanent HTTP connection, so HTTP connections are established when a new location/event is POSTed.</p>
<p>Now it's time to <a href="../topics/">discuss topics</a>.</p>
              
            </div>
          </div><footer>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
        <span>
          <a href="https://github.com/owntracks/booklet" class="fa fa-github" style="color: #fcfcfc"> GitHub</a>
        </span>
    
    
    
  </span>
</div>
    <script src="../../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "../..";</script>
    <script src="../../js/theme_extra.js"></script>
    <script src="../../js/theme.js"></script>
      <script src="../../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
